# RE: "Estimating the Effect of a Treatment When There Is Nonadherence in a Trial"

### Paul N Zivich

-----------------------------------

The folder includes the code to replicate the simulations (Python only) and example (Python, R, SAS) for the two-stage
regression bespoke instrumental variable (BSIV) approach described in the letter and referenced paper.

Data is available from https://www.causeweb.org/tshs/category/dataset/

-----------------------------------

## File Manifesto

`estfunc.py`
- Python code for the estimating functions for the two-stage regression BSIV.

`example.py`
- Python code to replicate the Obstetrics and Periodontal Therapy Study example.

`example.R`
- R code to replicate the Obstetrics and Periodontal Therapy Study example.

`example.sas`
- SAS code to replicate the Obstetrics and Periodontal Therapy Study example.

`process_data.py`
- Python code to process the publicly available Obstetrics and Periodontal Therapy Study data for the replications.

`simulation.py`
- Python code to run the simulation experiment described in the letter.
